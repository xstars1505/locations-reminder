<ion-header>
  <ion-navbar>
    <ion-title>Home</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <agm-map
    [latitude]="lat"
    [zoom]="12"
    [longitude]="lng"
    (mapClick)="mapClicked($event)">
    <agm-marker
      *ngFor="let location of locations | async"
      (markerClick)="clickedMarker(location)"
      [latitude]="location.lat"
      [longitude]="location.lng"
      [markerDraggable]="location.draggable"
      (dragEnd)="markerDragEnd(location, $event)">
      <agm-info-window
        [isOpen]="true">
        {{location.label}}
      </agm-info-window>
    </agm-marker>
  </agm-map>
</ion-content>
